(()=>{"use strict";var e,t,r,n,o={529:(e,t,r)=>{r.d(t,{Z:()=>o});class n{constructor(e,t){this.content=e;let r=document.createElement("p");const n=e.features;if(n)switch(!0){case!!n.color:r.style.color=n.color;break;case!!n.error:r.classList.add("error");break;case!!n.success:r.classList.add("success");break;case!!n.warning:r.classList.add("warning")}r.innerHTML=e.text,t.appendChild(r),this.el=r}update(e){try{this.el.innerHTML=e.text}catch(e){throw new Error("Could not change boot entry content")}return this}remove(){this.el.remove()}}class o{constructor(e){this.el=e}async write(e){return new n(e,this.el)}async error(e){return new n({text:e})}}},138:(e,t,r)=>{r.d(t,{Z:()=>n});const n=()=>{let e=window.indexedDB.open("open99",1);return new Promise(((t,r)=>{e.onsuccess=r=>{t(e.result||r.target.result)},e.onerror=e=>{r("Error attempting to open db:"+e)}}))}},841:(e,t,r)=>{r.d(t,{Z:()=>c});const n=class{constructor({name:e,path:t,content:r}){this.name=e,this.path=t,this.content=r}save(){}},o=class extends n{constructor({name:e,path:t,content:r}){return super({name:e,path:t,content:r}),this}save(){}delete(){}fullDelete(){}rename(){}fullRename(){}changeExt(){}changeType(){}},a=class extends n{constructor({name:e,path:t}){return super({name:e,path:t}),this}rename(){}delete(){}fullDelete(){}},s=class extends n{constructor({name:e}){if(e[1]||"string"==typeof e)throw new Error("Drive letter is not a string or is longer than one char");return super({name:e}),this}umount(){}},c={createFile:async({name:e,path:t,content:r})=>new o({name:e,path:t,content:r}),createDir:async({name:e,path:t})=>new a({name:e,path:t}),createDrive:async({name:e})=>new s({name:e})}},817:(e,t,r)=>{r.a(e,(async(e,t)=>{try{var n=r(841),o=r(138),a=r(529);const e={fs:n.Z,_db:await(0,o.Z)(),_boot:new a.Z(document.getElementsByClassName("boot")[0])};e._boot.write({text:"open99 BETA rewrite booting on "+navigator.userAgent+" at "+new Date}),e._boot.write({text:"Loading IDB..."});try{e._db=await(0,o.Z)()}catch(t){e._boot.write({text:"IDB failed to load",error:!0})}e._boot.write({text:"IDB loaded!",success:!0}),t()}catch(e){t(e)}}),1)}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return o[e](r,r.exports,s),r.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=e=>{e&&!e.d&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},s.a=(o,a,s)=>{var c;s&&((c=[]).d=1);var i,l,u,p=new Set,h=o.exports,d=new Promise(((e,t)=>{u=t,l=e}));d[t]=h,d[e]=e=>(c&&e(c),p.forEach(e),d.catch((e=>{}))),o.exports=d,a((o=>{var a;i=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[e])return o;if(o.then){var a=[];a.d=0,o.then((e=>{s[t]=e,n(a)}),(e=>{s[r]=e,n(a)}));var s={};return s[e]=e=>e(a),s}}var c={};return c[e]=e=>{},c[t]=o,c})))(o);var s=()=>i.map((e=>{if(e[r])throw e[r];return e[t]})),l=new Promise((t=>{(a=()=>t(s)).r=0;var r=e=>e!==c&&!p.has(e)&&(p.add(e),e&&!e.d&&(a.r++,e.push(a)));i.map((t=>t[e](r)))}));return a.r?l:s()}),(e=>(e?u(d[r]=e):l(h),n(c)))),c&&(c.d=0)},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s(817)})();
//# sourceMappingURL=sys41.min.js.map